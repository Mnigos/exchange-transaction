{"version":3,"sources":["../../src/exchange-rate/exchange-rate.controller.spec.ts"],"sourcesContent":["import { type TestingModule, Test } from '@nestjs/testing'\n\nimport { ExchangeRateController } from './exchange-rate.controller'\nimport { ExchangeRateService } from './exchange-rate.service'\n\ndescribe('ExchangeRateController', () => {\n  let moduleRef: TestingModule\n  let exchangeRateController: ExchangeRateController\n  let exchangeRateService: ExchangeRateService\n\n  beforeEach(async () => {\n    moduleRef = await Test.createTestingModule({\n      controllers: [ExchangeRateController],\n      providers: [\n        ExchangeRateService,\n        {\n          provide: ExchangeRateService,\n          useValue: {\n            get: vi.fn(),\n          },\n        },\n      ],\n    }).compile()\n\n    exchangeRateController = moduleRef.get(ExchangeRateController)\n    exchangeRateService = moduleRef.get(ExchangeRateService)\n  })\n\n  afterEach(async () => {\n    await moduleRef.close()\n  })\n\n  test('should be defined', () => {\n    expect(exchangeRateController).toBeDefined()\n  })\n\n  describe('get', () => {\n    test('should return exchange rate', async () => {\n      const exchangeRate = 4.5\n\n      const exchangeRateServiceGetSpy = vi\n        .spyOn(exchangeRateService, 'get')\n        .mockResolvedValue(exchangeRate)\n\n      expect(await exchangeRateController.get()).toEqual(exchangeRate)\n\n      expect(exchangeRateServiceGetSpy).toHaveBeenCalled()\n    })\n  })\n})\n"],"names":["describe","moduleRef","exchangeRateController","exchangeRateService","beforeEach","Test","createTestingModule","controllers","ExchangeRateController","providers","ExchangeRateService","provide","useValue","get","vi","fn","compile","afterEach","close","test","expect","toBeDefined","exchangeRate","exchangeRateServiceGetSpy","spyOn","mockResolvedValue","toEqual","toHaveBeenCalled"],"mappings":";;;;yBAAyC;wCAEF;qCACH;AAEpCA,SAAS,0BAA0B;IACjC,IAAIC;IACJ,IAAIC;IACJ,IAAIC;IAEJC,WAAW;QACTH,YAAY,MAAMI,aAAI,CAACC,mBAAmB,CAAC;YACzCC,aAAa;gBAACC,8CAAsB;aAAC;YACrCC,WAAW;gBACTC,wCAAmB;gBACnB;oBACEC,SAASD,wCAAmB;oBAC5BE,UAAU;wBACRC,KAAKC,GAAGC,EAAE;oBACZ;gBACF;aACD;QACH,GAAGC,OAAO;QAEVd,yBAAyBD,UAAUY,GAAG,CAACL,8CAAsB;QAC7DL,sBAAsBF,UAAUY,GAAG,CAACH,wCAAmB;IACzD;IAEAO,UAAU;QACR,MAAMhB,UAAUiB,KAAK;IACvB;IAEAC,KAAK,qBAAqB;QACxBC,OAAOlB,wBAAwBmB,WAAW;IAC5C;IAEArB,SAAS,OAAO;QACdmB,KAAK,+BAA+B;YAClC,MAAMG,eAAe;YAErB,MAAMC,4BAA4BT,GAC/BU,KAAK,CAACrB,qBAAqB,OAC3BsB,iBAAiB,CAACH;YAErBF,OAAO,MAAMlB,uBAAuBW,GAAG,IAAIa,OAAO,CAACJ;YAEnDF,OAAOG,2BAA2BI,gBAAgB;QACpD;IACF;AACF"}